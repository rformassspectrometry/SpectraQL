<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mass Spec Query Language Support to the Spectra Package • SpectraQL</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Mass Spec Query Language Support to the Spectra Package">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">SpectraQL</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.99.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/SpectraQL.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/RforMassSpectrometry/SpectraQL/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Mass Spec Query Language Support to the Spectra
Package</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/RforMassSpectrometry/SpectraQL/blob/main/vignettes/SpectraQL.Rmd" class="external-link"><code>vignettes/SpectraQL.Rmd</code></a></small>
      <div class="hidden name"><code>SpectraQL.Rmd</code></div>

    </div>

    
    
<script type="text/javascript">
document.addEventListener("DOMContentLoaded", function() {
  document.querySelector("h1").className = "title";
});
</script><script type="text/javascript">
document.addEventListener("DOMContentLoaded", function() {
  var links = document.links;  
  for (var i = 0, linksLength = links.length; i < linksLength; i++)
    if (links[i].hostname != window.location.hostname)
      links[i].target = '_blank';
});
</script><p><strong>Package</strong>: <em><a href="https://bioconductor.org/packages/3.20/SpectraQL" class="external-link">SpectraQL</a></em><br><strong>Authors</strong>: Johannes Rainer [aut, cre] (<a href="https://orcid.org/0000-0002-6977-7147" class="external-link uri">https://orcid.org/0000-0002-6977-7147</a>), Andrea Vicini
[aut], Sebastian Gibb [ctb] (<a href="https://orcid.org/0000-0001-7406-4443" class="external-link uri">https://orcid.org/0000-0001-7406-4443</a>)<br><strong>Compiled</strong>: Wed Aug 21 09:41:25 2024</p>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The Mass Spec Query Language (<a href="https://mwang87.github.io/MassQueryLanguage_Documentation/" class="external-link">MassQL</a>)
is a domain specific language meant to be a succinct way to express a
query in a mass spectrometry (MS) centric fashion. It is inspired by
SQL, but it attempts to bake in assumptions of MS to make querying much
more natural for MS users.</p>
<p>The <em>SpectraQL</em> package provides support for the MassQL
language in R, for MS data represented by <code>Spectra</code> objects
defined in Bioconductor’s <a href="https://bioconductor.org/packages/Spectra" class="external-link">Spectra</a>
package.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>The package can be installed with the <code>BiocManager</code>
package. To install <code>BiocManager</code> use
<code>install.packages("BiocManager")</code> and, after that,
<code>BiocManager::install("SpectraQL")</code> to install this
package.</p>
</div>
<div class="section level2">
<h2 id="extracting-data-from-spectra-objects-with-massql">Extracting data from <code>Spectra</code> objects with MassQL<a class="anchor" aria-label="anchor" href="#extracting-data-from-spectra-objects-with-massql"></a>
</h2>
<p>The <em>SpectraQL</em> package adds support for most of the Mass Spec
Query Language functionality to <code>Spectra</code> objects hence
allowing to filter and extract data using platform independent and data
storage agnostic queries. At present, <em>SpectraQL</em> supports most,
but not all of the conditions and expressions of the MassQL definition.
In particular, numeric operations in query fields such as
<code>MS2PROD=100+14</code> are not yet supported.</p>
<p>Below we load MS data from an example mzML file. Note also that
<code>Spectra</code> objects can represent MS data from a very large
variety of sources including but not limited to mzML or mzXML files,
databases (e.g. <a href="https://rformassspectrometry.github.io/MsBackendMassbank/" class="external-link">MsBackendMassbank</a>)
or MGF files (<a href="https://rformassspectrometry.github.io/MsBackendMgf/" class="external-link">MsBackendMgf</a>).
The use of the <em><a href="https://bioconductor.org/packages/3.20/Spectra" class="external-link">Spectra</a></em>
an hence <em>SpectraQL</em> package is thus not restricted to
mzML-backed MS data.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/RforMassSpectrometry/Spectra" class="external-link">Spectra</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/RforMassSpectrometry/SpectraQL" class="external-link">SpectraQL</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">msdata</span><span class="op">)</span></span>
<span></span>
<span><span class="va">fl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"TripleTOF-SWATH"</span>, <span class="st">"PestMix1_DDA.mzML"</span>, package <span class="op">=</span> <span class="st">"msdata"</span><span class="op">)</span></span>
<span><span class="va">dda</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/Spectra/man/Spectra.html" class="external-link">Spectra</a></span><span class="op">(</span><span class="va">fl</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="massql-definition">MassQL definition<a class="anchor" aria-label="anchor" href="#massql-definition"></a>
</h3>
<p>A MassQL query consists of several parts:
<code>"QUERY &lt;type of data&gt; WHERE &lt;condition&gt; AND &lt;condition&gt; FILTER &lt;filter&gt; AND &lt;filter&gt;"</code>
(see its <a href="https://mwang87.github.io/MassQueryLanguage_Documentation/#definition-of-a-query" class="external-link">definition</a>
for more details). <code>"&lt;type of data&gt;"</code> defines which
data should be extracted from the selected data set,
<code>"&lt;condition&gt;"</code> defines which spectra should be
selected and <code>"&lt;filter&gt;"</code> allows to subset each
individual spectrum (i.e. to which mass peaks each spectrum should be
subsetted). See the following sections for more information on each part
of such an MassQL query. <em>SpectraQL</em> supports the MassQL query
schema is however case insensitive (i.e. both <code>"query"</code> and
<code>"QUERY"</code> are accepted) and is insensitive to white spaces
(i.e. both <code>"RTMIN=10"</code> and <code>"RTMIN = 10"</code> are
supported). Also, it should be noted that not all keywords, filters and
operations defined by MassQL are yet supported by <em>SpectraQL</em>.
The supported types of data, conditions and filters are listed in the
sections below.</p>
<div class="section level4">
<h4 id="type-of-data">Type of data<a class="anchor" aria-label="anchor" href="#type-of-data"></a>
</h4>
<p>The <code>"&lt;type of data&gt;"</code> defines <em>what</em> should
be returned by the <code>query</code> function. In addition, functions
can be specified and applied to <code>"&lt;type of data&gt;"</code> to
summarize the results. The types of data that are currently supported by
<em>SpectraQL</em> are:</p>
<ul>
<li>
<code>"*"</code>: returns the full data, i.e. returns a
<code>Spectra</code> object.</li>
<li>
<code>"MS1DATA"</code> (case insensitive): returns (if no function
is defined; see further below) the peaks data for selected MS1 scans
(i.e. a <code>list</code> of matrices with m/z and intensity
values).</li>
<li>
<code>"MS2DATA"</code> (case insensitive): returns (if no function
is defined) the peaks data for selected MS2 scans (i.e. a
<code>list</code> of matrices with m/z and intensity values).</li>
</ul>
<p>In addition, functions can be used to extract specific information
from the selected spectra. <em>SpectraQL</em> supports at present the
following functions defined by MassQL:</p>
<ul>
<li>
<code>"scaninfo"</code>: e.g. <code>"scaninfo(MS1DATA)"</code> or
<code>"scaninfo(MS2DATA)"</code> to extract spectra information for MS1
or MS2 scans, respectively. This returns the <code>spectraData</code>
for the sub-setted <code>Spectra</code> object.</li>
<li>
<code>"scansum"</code>: e.g. <code>"scansum(MS1DATA)"</code> or
<code>"scansum(MS2DATA)"</code> to extract the TIC (sum of peak
intensities) of the selected spectra.</li>
</ul>
</div>
<div class="section level4">
<h4 id="condition">Condition<a class="anchor" aria-label="anchor" href="#condition"></a>
</h4>
<p>The <code>"&lt;condition&gt;"</code> allows to subset a
<code>Spectra</code> object. Several conditions can be combined with
<code>"and"</code>. The syntax for a condition is
<code>"&lt;condition&gt; = &lt;value&gt;"</code>,
e.g. <code>"MS2PROD = 144.1"</code>. Such conditions can be further
refined by additional expressions that allow for example to define
acceptable tolerances for m/z differences (see further below for
details). <code>SpectraQL</code> supports the following conditions:</p>
<ul>
<li>
<code>"RTMIN"</code>: minimum retention time (in
<strong>seconds</strong>).</li>
<li>
<code>"RTMAX"</code>: maximum retention time (in
<strong>seconds</strong>).</li>
<li>
<code>"SCANMIN"</code>: the minimum scan number (acquisition
number).</li>
<li>
<code>"SCANMAX"</code>: the maximum scan number (acquisition
number).</li>
<li>
<code>"CHARGE"</code>: the charge for MS2 spectra.</li>
<li>
<code>"POLARITY"</code>: the polarity of the spectra (can be
<code>"positive"</code>, <code>"negative"</code>, <code>"pos"</code> or
<code>"neg"</code>, case insensitive).</li>
<li>
<code>"MS2PROD"</code> or <code>"MS2MZ"</code>: allows to select MS2
spectra that contain a peak with a particular m/z.</li>
<li>
<code>"MS2PREC"</code>: allows to select MS2 spectra with the
defined precursor m/z.</li>
<li>
<code>"MS1MZ"</code>: allows to select MS1 spectra containing peaks
with the defined m/z.</li>
<li>
<code>"MS2NL"</code>: allows to look for a neutral loss from
precursor in MS2 spectra.</li>
</ul>
<p>All conditions involving m/z values allow to specify a mass accuracy
using the optional fields <code>"TOLERANCEMZ"</code> and
<code>"TOLERANCEPPM"</code> that define the absolute and m/z-relative
acceptable difference in m/z values. One or both fields can be attached
to a <em>condition</em> such as
<code>"MS2PREC=100:TOLERANCEMZ=0.1:TOLERANCEPPM=20"</code> to select for
example all MS2 spectra with a precursor m/z equal to 100 accepting a
difference of 0.1 and 20 ppm. Note that in contrast to MassQL, the
default tolarance and ppm is 0 for all calls.</p>
</div>
<div class="section level4">
<h4 id="filter">Filter<a class="anchor" aria-label="anchor" href="#filter"></a>
</h4>
<p>Filters allow to subset individual spectra keeping e.g. only peaks
that match a user-defined m/z value. <em>SpectraQL</em> supports the
following filters:</p>
<ul>
<li>
<code>"MS1MZ"</code>: filters MS1 spectra keeping only peaks with
matching m/z values (tolerance can be specified as above with
<code>"TOLERANCEMZ"</code> and <code>"TOLERANCEPPM"</code>.</li>
<li>
<code>"MS2MZ"</code>: filters MS2 spectra keeping only peaks with
matching m/z values (tolerance can be specified as above with
<code>"TOLERANCEMZ"</code> and <code>"TOLERANCEPPM"</code>.</li>
</ul>
</div>
<div class="section level4">
<h4 id="differences-of-the-spectraql-implementation-to-the-massql-definition">Differences of the <code>SpectraQL</code> implementation to the
<code>MassQL</code> definition<a class="anchor" aria-label="anchor" href="#differences-of-the-spectraql-implementation-to-the-massql-definition"></a>
</h4>
<ul>
<li>Retention times (for <code>"RTMIN"</code>, <code>"RTMAX"</code>) are
expressed in seconds, not minutes.</li>
<li>Default for <code>"TOLERANCEMZ"</code> is <code>0</code> instead of
<code>0.1</code>.</li>
</ul>
</div>
</div>
<div class="section level3">
<h3 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h3>
<p>In this section we use MassQL queries to subset and extract data from
our <code>Spectra</code> object <code>dda</code>. This object contains
MS1 and MS2 spectra from a data dependent acquisition. Some general
information is provided below.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#' Number of MS1 and MS2 spectra</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/ProtGenerics/man/protgenerics.html" class="external-link">msLevel</a></span><span class="op">(</span><span class="va">dda</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##    1    2 </span></span>
<span><span class="co">## 4627 2975</span></span></code></pre>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#' retention time range</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/range.html" class="external-link">range</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/ProtGenerics/man/protgenerics.html" class="external-link">rtime</a></span><span class="op">(</span><span class="va">dda</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1]   0.231 899.993</span></span></code></pre>
<div class="section level4">
<h4 id="filtering-and-subsetting">Filtering and subsetting<a class="anchor" aria-label="anchor" href="#filtering-and-subsetting"></a>
</h4>
<p>To restrict the data to spectra measured between 200 and 300 seconds
of the measurement run we can use a MassQL query with the
<code>"rtmin"</code> and <code>"rtmax"</code> conditions.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dda_rt</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/query.html">query</a></span><span class="op">(</span><span class="va">dda</span>, <span class="st">"QUERY * WHERE RTMIN = 200 AND RTMAX = 300"</span><span class="op">)</span></span>
<span><span class="va">dda_rt</span></span></code></pre></div>
<pre><code><span><span class="co">## MSn data (Spectra) with 717 spectra in a MsBackendMzR backend:</span></span>
<span><span class="co">##       msLevel     rtime scanIndex</span></span>
<span><span class="co">##     &lt;integer&gt; &lt;numeric&gt; &lt;integer&gt;</span></span>
<span><span class="co">## 1           1   200.053      1554</span></span>
<span><span class="co">## 2           1   200.173      1555</span></span>
<span><span class="co">## 3           1   200.293      1556</span></span>
<span><span class="co">## 4           1   200.413      1557</span></span>
<span><span class="co">## 5           1   200.533      1558</span></span>
<span><span class="co">## ...       ...       ...       ...</span></span>
<span><span class="co">## 713         1   299.176      2266</span></span>
<span><span class="co">## 714         1   299.304      2267</span></span>
<span><span class="co">## 715         2   299.575      2268</span></span>
<span><span class="co">## 716         1   299.713      2269</span></span>
<span><span class="co">## 717         2   299.985      2270</span></span>
<span><span class="co">##  ... 33 more variables/columns.</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## file(s):</span></span>
<span><span class="co">## PestMix1_DDA.mzML</span></span>
<span><span class="co">## Processing:</span></span>
<span><span class="co">##  Filter: select retention time [200..300] on MS level(s) 1 2 [Wed Aug 21 09:41:29 2024]</span></span></code></pre>
<p>Internally, <em>SpectraQL</em> translates the MassQL query into
filter functions that are applied to the <code>Spectra</code> object.
The returned result is now a <code>Spectra</code> object with all
spectra measured between 200 and 300 seconds.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/range.html" class="external-link">range</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/ProtGenerics/man/protgenerics.html" class="external-link">rtime</a></span><span class="op">(</span><span class="va">dda_rt</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 200.053 299.985</span></span></code></pre>
<p>To restrict to MS2 spectra with their precursor m/z matching a
certain value, we can use the <code>"MS2PREC"</code> condition.
Conditions on m/z values support also accuracy specifications. Using
<code>"TOLERANCEMZ"</code> and <code>"TOLERANCEPPM"</code> it is thus
possible to define an absolute and m/z relative acceptable difference.
Below we use such a condition to select MS2 spectra with a precursor m/z
matching 278.093 with a tolerance of 0 and ppm of 20. Since
<em>SpectraQL</em> is case insensitive, we write the full MassQL query
in lower case below.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dda_pmz</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/query.html">query</a></span><span class="op">(</span></span>
<span>    <span class="va">dda</span>,</span>
<span>    <span class="st">"query * where ms2prec = 278.093:toleancemz=0:toleranceppm=30"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">dda_pmz</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 9</span></span></code></pre>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dda_pmz</span></span></code></pre></div>
<pre><code><span><span class="co">## MSn data (Spectra) with 9 spectra in a MsBackendMzR backend:</span></span>
<span><span class="co">##     msLevel     rtime scanIndex</span></span>
<span><span class="co">##   &lt;integer&gt; &lt;numeric&gt; &lt;integer&gt;</span></span>
<span><span class="co">## 1         2   268.587      2041</span></span>
<span><span class="co">## 2         2   269.007      2043</span></span>
<span><span class="co">## 3         2   269.427      2046</span></span>
<span><span class="co">## 4         2   381.709      3058</span></span>
<span><span class="co">## 5         2   382.069      3062</span></span>
<span><span class="co">## 6         2   382.549      3066</span></span>
<span><span class="co">## 7         2   385.879      3105</span></span>
<span><span class="co">## 8         2   386.699      3120</span></span>
<span><span class="co">## 9         2   387.849      3137</span></span>
<span><span class="co">##  ... 33 more variables/columns.</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## file(s):</span></span>
<span><span class="co">## PestMix1_DDA.mzML</span></span>
<span><span class="co">## Processing:</span></span>
<span><span class="co">##  Filter: select spectra with precursor m/z matching 278.093 [Wed Aug 21 09:41:29 2024]</span></span></code></pre>
<p>We thus selected 9 spectra from the data set with a precursor m/z
matching our filter criteria.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/ProtGenerics/man/protgenerics.html" class="external-link">precursorMz</a></span><span class="op">(</span><span class="va">dda_pmz</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 278.0936 278.0914 278.0954 278.0921 278.0909 278.0917 278.0913 278.0914</span></span>
<span><span class="co">## [9] 278.0918</span></span></code></pre>
<p>We can obviously also combine the two queries into a single MassQL
query. This time we also omit the <code>"tolerancemz"</code> field as we
set that anyway to a value of 0.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dda_rt</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/query.html">query</a></span><span class="op">(</span><span class="va">dda</span>,</span>
<span>                <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"query * where rtmin = 200 and rtmax = 300 and "</span>,</span>
<span>                       <span class="st">"ms2prec = 278.093:toleranceppm = 30"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">dda_rt</span></span></code></pre></div>
<pre><code><span><span class="co">## MSn data (Spectra) with 3 spectra in a MsBackendMzR backend:</span></span>
<span><span class="co">##     msLevel     rtime scanIndex</span></span>
<span><span class="co">##   &lt;integer&gt; &lt;numeric&gt; &lt;integer&gt;</span></span>
<span><span class="co">## 1         2   268.587      2041</span></span>
<span><span class="co">## 2         2   269.007      2043</span></span>
<span><span class="co">## 3         2   269.427      2046</span></span>
<span><span class="co">##  ... 33 more variables/columns.</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## file(s):</span></span>
<span><span class="co">## PestMix1_DDA.mzML</span></span>
<span><span class="co">## Processing:</span></span>
<span><span class="co">##  Filter: select retention time [200..300] on MS level(s) 1 2 [Wed Aug 21 09:41:29 2024]</span></span>
<span><span class="co">##  Filter: select spectra with precursor m/z matching 278.093 [Wed Aug 21 09:41:29 2024]</span></span></code></pre>
<p>For conditions <code>"MS2PROD"</code>, <code>"MS2PREC"</code> and
<code>"MS1MZ"</code> it is also possible to provide multiple values to
select spectra that match any of the provided m/z values. These values
can be separated by <code>"OR"</code> (or <code>"or"</code>),
<code>"TOLERANCEPPM"</code> and <code>"TOLERANCEMZ"</code> will be
applied to each of these. Below we select all spectra that contain an
(MS1) peak with an m/z matching any of the provided values.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/query.html">query</a></span><span class="op">(</span><span class="va">dda</span>, <span class="st">"QUERY * WHERE MS1MZ = (123 OR 234.1 OR 300):TOLERANCEMZ=0.05"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## MSn data (Spectra) with 2385 spectra in a MsBackendMzR backend:</span></span>
<span><span class="co">##        msLevel     rtime scanIndex</span></span>
<span><span class="co">##      &lt;integer&gt; &lt;numeric&gt; &lt;integer&gt;</span></span>
<span><span class="co">## 1            1     0.471         3</span></span>
<span><span class="co">## 2            1     0.591         4</span></span>
<span><span class="co">## 3            1     1.191         9</span></span>
<span><span class="co">## 4            1     1.311        10</span></span>
<span><span class="co">## 5            1     1.551        12</span></span>
<span><span class="co">## ...        ...       ...       ...</span></span>
<span><span class="co">## 2381         1   899.491      7598</span></span>
<span><span class="co">## 2382         1   899.613      7599</span></span>
<span><span class="co">## 2383         1   899.747      7600</span></span>
<span><span class="co">## 2384         1   899.872      7601</span></span>
<span><span class="co">## 2385         1   899.993      7602</span></span>
<span><span class="co">##  ... 33 more variables/columns.</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## file(s):</span></span>
<span><span class="co">## PestMix1_DDA.mzML</span></span>
<span><span class="co">## Processing:</span></span>
<span><span class="co">##  Filter: select MS level(s) 1 [Wed Aug 21 09:41:29 2024]</span></span></code></pre>
<p>Note that using <code>"MS1MZ"</code> will return only MS1 spectra and
<code>"MS2PROD"</code>, <code>"MS2MZ"</code> and <code>"MS2PREC"</code>
only MS2 spectra.</p>
</div>
<div class="section level4">
<h4 id="choosing-which-data-to-return">Choosing which data to return<a class="anchor" aria-label="anchor" href="#choosing-which-data-to-return"></a>
</h4>
<p>Thus far we uses <code>"*"</code> in all queries, which returns the
result as a <code>Spectra</code> object. Alternatively, we can use
<code>"MS1DATA"</code> or <code>"MS2DATA"</code> which will return the
peak data for MS1 or MS2 spectra, respectively. The result is thus not a
<code>Spectra</code> object, but a <code>list</code> of two-column
matrices with the m/z and intensity values of all selected spectra.
Below we use this to extract the peaks data for all MS2 spectra measured
between 200 and 300 seconds.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pks</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/query.html">query</a></span><span class="op">(</span><span class="va">dda</span>, <span class="st">"query ms2data where rtmin = 200 and rtmax = 300"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">pks</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 216</span></span></code></pre>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">pks</span><span class="op">[[</span><span class="fl">1L</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##            mz   intensity</span></span>
<span><span class="co">## [1,] 54.93746 0.021841669</span></span>
<span><span class="co">## [2,] 55.93555 0.173691928</span></span>
<span><span class="co">## [3,] 70.94262 0.011819169</span></span>
<span><span class="co">## [4,] 71.71149 0.017824525</span></span>
<span><span class="co">## [5,] 71.72899 0.005942247</span></span>
<span><span class="co">## [6,] 71.93047 0.834873378</span></span></code></pre>
<p>We can in addition also use functions to extract only specific data
from the result. <code>"scansum"</code> would for example return the sum
of intensities per spectra and would thus allow to extract a total ion
chromatogram:</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tic</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/query.html">query</a></span><span class="op">(</span><span class="va">dda</span>, <span class="st">"query scansum(ms1data)"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">tic</span>, type <span class="op">=</span> <span class="st">"l"</span>, xlab <span class="op">=</span> <span class="st">"scan index"</span><span class="op">)</span></span></code></pre></div>
<p><img src="SpectraQL_files/figure-html/unnamed-chunk-11-1.png" width="700"></p>
<p>Please note that the x-axis does <strong>not</strong> represent the
retention times but the scan indices.</p>
<p>The function <code>"scaninfo"</code> extracts all information from
the selected spectra. For <em>SpectraQL</em> this means that the result
from <code><a href="https://rdrr.io/pkg/ProtGenerics/man/protgenerics.html" class="external-link">spectraData()</a></code> are returned:</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">si</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/query.html">query</a></span><span class="op">(</span><span class="va">dda</span>, <span class="st">"query scaninfo(*) where rtmin = 300 and rtmax = 500"</span><span class="op">)</span></span>
<span><span class="va">si</span></span></code></pre></div>
<pre><code><span><span class="co">## DataFrame with 2236 rows and 34 columns</span></span>
<span><span class="co">##        msLevel     rtime acquisitionNum scanIndex            dataStorage</span></span>
<span><span class="co">##      &lt;integer&gt; &lt;numeric&gt;      &lt;integer&gt; &lt;integer&gt;            &lt;character&gt;</span></span>
<span><span class="co">## 1            1   300.123           2271      2271 /__w/_temp/Library/m..</span></span>
<span><span class="co">## 2            2   300.395           2272      2272 /__w/_temp/Library/m..</span></span>
<span><span class="co">## 3            1   300.533           2273      2273 /__w/_temp/Library/m..</span></span>
<span><span class="co">## 4            1   300.654           2274      2274 /__w/_temp/Library/m..</span></span>
<span><span class="co">## 5            1   300.775           2275      2275 /__w/_temp/Library/m..</span></span>
<span><span class="co">## ...        ...       ...            ...       ...                    ...</span></span>
<span><span class="co">## 2232         2   499.391           4502      4502 /__w/_temp/Library/m..</span></span>
<span><span class="co">## 2233         1   499.529           4503      4503 /__w/_temp/Library/m..</span></span>
<span><span class="co">## 2234         2   499.691           4504      4504 /__w/_temp/Library/m..</span></span>
<span><span class="co">## 2235         2   499.811           4505      4505 /__w/_temp/Library/m..</span></span>
<span><span class="co">## 2236         1   499.948           4506      4506 /__w/_temp/Library/m..</span></span>
<span><span class="co">##                  dataOrigin centroided  smoothed  polarity precScanNum</span></span>
<span><span class="co">##                 &lt;character&gt;  &lt;logical&gt; &lt;logical&gt; &lt;integer&gt;   &lt;integer&gt;</span></span>
<span><span class="co">## 1    /__w/_temp/Library/m..       TRUE        NA         1          NA</span></span>
<span><span class="co">## 2    /__w/_temp/Library/m..       TRUE        NA         1          NA</span></span>
<span><span class="co">## 3    /__w/_temp/Library/m..       TRUE        NA         1          NA</span></span>
<span><span class="co">## 4    /__w/_temp/Library/m..       TRUE        NA         1          NA</span></span>
<span><span class="co">## 5    /__w/_temp/Library/m..       TRUE        NA         1          NA</span></span>
<span><span class="co">## ...                     ...        ...       ...       ...         ...</span></span>
<span><span class="co">## 2232 /__w/_temp/Library/m..       TRUE        NA         1          NA</span></span>
<span><span class="co">## 2233 /__w/_temp/Library/m..       TRUE        NA         1          NA</span></span>
<span><span class="co">## 2234 /__w/_temp/Library/m..       TRUE        NA         1          NA</span></span>
<span><span class="co">## 2235 /__w/_temp/Library/m..       TRUE        NA         1          NA</span></span>
<span><span class="co">## 2236 /__w/_temp/Library/m..       TRUE        NA         1          NA</span></span>
<span><span class="co">##      precursorMz precursorIntensity precursorCharge collisionEnergy</span></span>
<span><span class="co">##        &lt;numeric&gt;          &lt;numeric&gt;       &lt;integer&gt;       &lt;numeric&gt;</span></span>
<span><span class="co">## 1             NA                 NA              NA              NA</span></span>
<span><span class="co">## 2        320.106                  0               0               0</span></span>
<span><span class="co">## 3             NA                 NA              NA              NA</span></span>
<span><span class="co">## 4             NA                 NA              NA              NA</span></span>
<span><span class="co">## 5             NA                 NA              NA              NA</span></span>
<span><span class="co">## ...          ...                ...             ...             ...</span></span>
<span><span class="co">## 2232     252.995                  0               0               0</span></span>
<span><span class="co">## 2233          NA                 NA              NA              NA</span></span>
<span><span class="co">## 2234     173.079                  0               0               0</span></span>
<span><span class="co">## 2235     368.182                  0               0               0</span></span>
<span><span class="co">## 2236          NA                 NA              NA              NA</span></span>
<span><span class="co">##      isolationWindowLowerMz isolationWindowTargetMz isolationWindowUpperMz</span></span>
<span><span class="co">##                   &lt;numeric&gt;               &lt;numeric&gt;              &lt;numeric&gt;</span></span>
<span><span class="co">## 1                        NA                      NA                     NA</span></span>
<span><span class="co">## 2                   319.606                 320.106                320.606</span></span>
<span><span class="co">## 3                        NA                      NA                     NA</span></span>
<span><span class="co">## 4                        NA                      NA                     NA</span></span>
<span><span class="co">## 5                        NA                      NA                     NA</span></span>
<span><span class="co">## ...                     ...                     ...                    ...</span></span>
<span><span class="co">## 2232                252.495                 252.995                253.495</span></span>
<span><span class="co">## 2233                     NA                      NA                     NA</span></span>
<span><span class="co">## 2234                172.579                 173.079                173.579</span></span>
<span><span class="co">## 2235                367.682                 368.182                368.682</span></span>
<span><span class="co">## 2236                     NA                      NA                     NA</span></span>
<span><span class="co">##      peaksCount totIonCurrent basePeakMZ basePeakIntensity ionisationEnergy</span></span>
<span><span class="co">##       &lt;integer&gt;     &lt;numeric&gt;  &lt;numeric&gt;         &lt;numeric&gt;        &lt;numeric&gt;</span></span>
<span><span class="co">## 1           327        236402    54.0089             44069                0</span></span>
<span><span class="co">## 2            52          5440   233.0023               288                0</span></span>
<span><span class="co">## 3           348        221394    54.0089             39904                0</span></span>
<span><span class="co">## 4           198        211449    54.0089             43642                0</span></span>
<span><span class="co">## 5           377        248240    54.0099             32575                0</span></span>
<span><span class="co">## ...         ...           ...        ...               ...              ...</span></span>
<span><span class="co">## 2232          2          1025    98.9837                32                0</span></span>
<span><span class="co">## 2233        370        307324    54.0088             24136                0</span></span>
<span><span class="co">## 2234         10          1360    55.0552                42                0</span></span>
<span><span class="co">## 2235          4          1103   368.1747                42                0</span></span>
<span><span class="co">## 2236        426        318309    54.0088             25913                0</span></span>
<span><span class="co">##          lowMZ    highMZ mergedScan mergedResultScanNum</span></span>
<span><span class="co">##      &lt;numeric&gt; &lt;numeric&gt;  &lt;integer&gt;           &lt;integer&gt;</span></span>
<span><span class="co">## 1            0         0         NA                  NA</span></span>
<span><span class="co">## 2            0         0         NA                  NA</span></span>
<span><span class="co">## 3            0         0         NA                  NA</span></span>
<span><span class="co">## 4            0         0         NA                  NA</span></span>
<span><span class="co">## 5            0         0         NA                  NA</span></span>
<span><span class="co">## ...        ...       ...        ...                 ...</span></span>
<span><span class="co">## 2232         0         0         NA                  NA</span></span>
<span><span class="co">## 2233         0         0         NA                  NA</span></span>
<span><span class="co">## 2234         0         0         NA                  NA</span></span>
<span><span class="co">## 2235         0         0         NA                  NA</span></span>
<span><span class="co">## 2236         0         0         NA                  NA</span></span>
<span><span class="co">##      mergedResultStartScanNum mergedResultEndScanNum injectionTime filterString</span></span>
<span><span class="co">##                     &lt;integer&gt;              &lt;integer&gt;     &lt;numeric&gt;  &lt;character&gt;</span></span>
<span><span class="co">## 1                          NA                     NA             0           NA</span></span>
<span><span class="co">## 2                          NA                     NA             0           NA</span></span>
<span><span class="co">## 3                          NA                     NA             0           NA</span></span>
<span><span class="co">## 4                          NA                     NA             0           NA</span></span>
<span><span class="co">## 5                          NA                     NA             0           NA</span></span>
<span><span class="co">## ...                       ...                    ...           ...          ...</span></span>
<span><span class="co">## 2232                       NA                     NA             0           NA</span></span>
<span><span class="co">## 2233                       NA                     NA             0           NA</span></span>
<span><span class="co">## 2234                       NA                     NA             0           NA</span></span>
<span><span class="co">## 2235                       NA                     NA             0           NA</span></span>
<span><span class="co">## 2236                       NA                     NA             0           NA</span></span>
<span><span class="co">##                  spectrumId ionMobilityDriftTime scanWindowLowerLimit</span></span>
<span><span class="co">##                 &lt;character&gt;            &lt;numeric&gt;            &lt;numeric&gt;</span></span>
<span><span class="co">## 1    sample=1 period=1 cy..                   NA                   50</span></span>
<span><span class="co">## 2    sample=1 period=1 cy..                   NA                   50</span></span>
<span><span class="co">## 3    sample=1 period=1 cy..                   NA                   50</span></span>
<span><span class="co">## 4    sample=1 period=1 cy..                   NA                   50</span></span>
<span><span class="co">## 5    sample=1 period=1 cy..                   NA                   50</span></span>
<span><span class="co">## ...                     ...                  ...                  ...</span></span>
<span><span class="co">## 2232 sample=1 period=1 cy..                   NA                   50</span></span>
<span><span class="co">## 2233 sample=1 period=1 cy..                   NA                   50</span></span>
<span><span class="co">## 2234 sample=1 period=1 cy..                   NA                   50</span></span>
<span><span class="co">## 2235 sample=1 period=1 cy..                   NA                   50</span></span>
<span><span class="co">## 2236 sample=1 period=1 cy..                   NA                   50</span></span>
<span><span class="co">##      scanWindowUpperLimit</span></span>
<span><span class="co">##                 &lt;numeric&gt;</span></span>
<span><span class="co">## 1                    2000</span></span>
<span><span class="co">## 2                    2000</span></span>
<span><span class="co">## 3                    2000</span></span>
<span><span class="co">## 4                    2000</span></span>
<span><span class="co">## 5                    2000</span></span>
<span><span class="co">## ...                   ...</span></span>
<span><span class="co">## 2232                 2000</span></span>
<span><span class="co">## 2233                 2000</span></span>
<span><span class="co">## 2234                 2000</span></span>
<span><span class="co">## 2235                 2000</span></span>
<span><span class="co">## 2236                 2000</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="filtering-peaks-within-spectra">Filtering peaks within spectra<a class="anchor" aria-label="anchor" href="#filtering-peaks-within-spectra"></a>
</h4>
<p>In contrast to the <em>condition</em> statements
(<code>"WHERE"</code>), <code>"FILTER"</code> allows to filter the peak
data within spectra. We can for example filter all spectra keeping only
peaks with a certain m/z. Below we filter the MS1 data keeping only
peaks with an m/z value matching 219.095 with a tolerance of 0.01 and
extract the ion count for that.</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ic</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/query.html">query</a></span><span class="op">(</span></span>
<span>    <span class="va">dda</span>, <span class="st">"query scansum(ms1data) filter ms1mz = 219.095:tolerancemz=0.1"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">ic</span>, type <span class="op">=</span> <span class="st">"l"</span>, xlab <span class="op">=</span> <span class="st">"scan index"</span><span class="op">)</span></span></code></pre></div>
<p><img src="SpectraQL_files/figure-html/unnamed-chunk-13-1.png" width="700"></p>
<p>We can also combine that with <code>"QUERY"</code> to restrict to a
certain retention time range to generate an extracted ion chromatogram
(XIC).</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ic</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/query.html">query</a></span><span class="op">(</span></span>
<span>    <span class="va">dda</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"query scansum(ms1data) where rtmin = 235 and rtmax = 250"</span>,</span>
<span>           <span class="st">" filter ms1mz = 219.095:tolerancemz=0.1"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">ic</span>, type <span class="op">=</span> <span class="st">"l"</span>, xlab <span class="op">=</span> <span class="st">"scan index"</span><span class="op">)</span></span></code></pre></div>
<p><img src="SpectraQL_files/figure-html/unnamed-chunk-14-1.png" width="700"></p>
<p>Internally, <em>SpectraQL</em>’s function <em>translates</em> the
MassQL query into the following combination of function calls:</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="va">dda</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/ProtGenerics/man/protgenerics.html" class="external-link">filterMsLevel</a></span><span class="op">(</span><span class="fl">1L</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/ProtGenerics/man/protgenerics.html" class="external-link">filterRt</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">235</span>, <span class="fl">250</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/ProtGenerics/man/protgenerics.html" class="external-link">filterMzValues</a></span><span class="op">(</span><span class="fl">219.095</span>, tolerance <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/ProtGenerics/man/protgenerics.html" class="external-link">ionCount</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">res</span>, type <span class="op">=</span> <span class="st">"l"</span>, xlab <span class="op">=</span> <span class="st">"scan index"</span><span class="op">)</span></span></code></pre></div>
<p><img src="SpectraQL_files/figure-html/unnamed-chunk-15-1.png" width="700"></p>
</div>
</div>
</div>
<div class="section level2">
<h2 class="unnumbered" id="session-information">Session information<a class="anchor" aria-label="anchor" href="#session-information"></a>
</h2>
<pre><code><span><span class="co">## R version 4.4.1 (2024-06-14)</span></span>
<span><span class="co">## Platform: x86_64-pc-linux-gnu</span></span>
<span><span class="co">## Running under: Ubuntu 22.04.4 LTS</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Matrix products: default</span></span>
<span><span class="co">## BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3 </span></span>
<span><span class="co">## LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.20.so;  LAPACK version 3.10.0</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## locale:</span></span>
<span><span class="co">##  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              </span></span>
<span><span class="co">##  [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    </span></span>
<span><span class="co">##  [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   </span></span>
<span><span class="co">##  [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 </span></span>
<span><span class="co">##  [9] LC_ADDRESS=C               LC_TELEPHONE=C            </span></span>
<span><span class="co">## [11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## time zone: UTC</span></span>
<span><span class="co">## tzcode source: system (glibc)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## attached base packages:</span></span>
<span><span class="co">## [1] stats4    stats     graphics  grDevices utils     datasets  methods  </span></span>
<span><span class="co">## [8] base     </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## other attached packages:</span></span>
<span><span class="co">## [1] msdata_0.45.0       SpectraQL_0.99.0    Spectra_1.15.7     </span></span>
<span><span class="co">## [4] ProtGenerics_1.37.1 BiocParallel_1.39.0 S4Vectors_0.43.2   </span></span>
<span><span class="co">## [7] BiocGenerics_0.51.0 BiocStyle_2.33.1   </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## loaded via a namespace (and not attached):</span></span>
<span><span class="co">##  [1] jsonlite_1.8.8         highr_0.11             compiler_4.4.1        </span></span>
<span><span class="co">##  [4] BiocManager_1.30.23    Rcpp_1.0.13            Biobase_2.65.0        </span></span>
<span><span class="co">##  [7] parallel_4.4.1         cluster_2.1.6          jquerylib_0.1.4       </span></span>
<span><span class="co">## [10] systemfonts_1.1.0      IRanges_2.39.2         textshaping_0.4.0     </span></span>
<span><span class="co">## [13] yaml_2.3.10            fastmap_1.2.0          R6_2.5.1              </span></span>
<span><span class="co">## [16] knitr_1.48             htmlwidgets_1.6.4      MASS_7.3-61           </span></span>
<span><span class="co">## [19] bookdown_0.40          desc_1.4.3             bslib_0.8.0           </span></span>
<span><span class="co">## [22] rlang_1.1.4            cachem_1.1.0           xfun_0.47             </span></span>
<span><span class="co">## [25] fs_1.6.4               MsCoreUtils_1.17.1     sass_0.4.9            </span></span>
<span><span class="co">## [28] cli_3.6.3              pkgdown_2.1.0.9000     ncdf4_1.23            </span></span>
<span><span class="co">## [31] digest_0.6.37          mzR_2.39.0             MetaboCoreUtils_1.13.0</span></span>
<span><span class="co">## [34] lifecycle_1.0.4        clue_0.3-65            evaluate_0.24.0       </span></span>
<span><span class="co">## [37] codetools_0.2-20       ragg_1.3.2             rmarkdown_2.28        </span></span>
<span><span class="co">## [40] tools_4.4.1            htmltools_0.5.8.1</span></span></code></pre>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Johannes Rainer, Andrea Vicini.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.9000.</p>
</div>

      </footer>
</div>






  </body>
</html>
